<div class="contact row no-gutters">
    <div class="contact-side-menu">
        <div class="pb-4"><mat-icon class="menu-icon cursor-pointer">menu</mat-icon></div>
        <div class="sub-icons">
            <div class="d-flex justify-content-center cursor-pointer py-3"><mat-icon>home</mat-icon></div>
            <div class="d-flex justify-content-center cursor-pointer py-3"><mat-icon>account_box</mat-icon></div>
            <div class="d-flex justify-content-center cursor-pointer py-3"><mat-icon>av_timer</mat-icon></div>
            <div class="d-flex justify-content-center cursor-pointer py-3"><mat-icon>calendar_today</mat-icon></div>
            <div class="d-flex justify-content-center cursor-pointer py-3"><mat-icon>settings</mat-icon></div>
        </div>

    </div>
    <div class="contact-menu">
        <div class="contact-header">
            <mat-toolbar>
                <div class="rounded-search">
                    <mat-icon class="rounded-search-icon">search</mat-icon>
                </div>
                <div class="row no-gutters header-right-elements">
                    <span class="px-3 cursor-pointer">+Add</span>
                    <span class="px-3 d-flex cursor-pointer"><mat-icon>email</mat-icon></span>
                    <div class="dropdown show">
                        <span *ngIf="!!loggedInUser" class="btn dropdown-toggle"  role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            {{loggedInUser?.firstName}}
                        </span>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink" >
                            <ng-container *ngFor="let dropdownUser of users">
                                <div *ngIf="loggedInUser?.email != dropdownUser?.email" class="dropdown-item cursor-pointer" (click)="selectLoginUser(dropdownUser)"><span>{{dropdownUser?.firstName}}</span></div>
                            </ng-container>
                        </div>
                    </div>
                    <span class="px-3 d-flex cursor-pointer"><mat-icon>notification_important</mat-icon></span>
                </div>
            </mat-toolbar>
        </div>
        <div class="row no-gutters contact-list">
            <div class="contact-list-intro col-12 px-3">
                <div class="row no-gutters align-items-center">
                    <div class="align-self-center d-flex">
                        <mat-icon class="contact-icon">contact_phone</mat-icon>
                    </div>
                    <div class="pl-2 pr-4">
                        <div class="contact-title"><span>Contacts</span></div>
                        <div class="contact-subtitle"><span>Welcome to contact page</span></div>
                    </div>
                    <div class="px-3 pt-2 pt-sm-0">
                        <span class="sortby-color">Sort By:</span>
                        <span class="font-weight-bold">&nbsp;Date Created</span>
                    </div>
                </div>
            </div>
            <div class="col-12 col-lg-7 py-2">
                <div class="py-3">
                    <div class="row no-gutters">
                        <div class="col-12 col-sm-6 py-2">
                            <div class="d-flex contact-list-search">
                                <input class="contact-list-search-input" placeholder="search contacts" type="text">
                                <span class="d-flex align-self-center"> <mat-icon
                                    class="search-icon-color">search</mat-icon></span>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 py-2 px-3  text-center">
                            <button (click)="addContact()" class="add-contact-btn" mat-button>Add Contact</button>
                        </div>
                    </div>
                    <div class="col-12 contact-table py-3 px-0">
                        <div class="row no-gutters contact-table-header">
                            <div class="col-6 px-4"><span>+</span>&nbsp;&nbsp;Basic info</div>
                            <div class="col-3">Company</div>
                            <div class="col-3">Controls</div>
                        </div>
                        <ng-container *ngFor="let user of users; let i = index">
                            <div (click)="viewContact(user, i)" [ngClass]="selectedUser?.email === user.email? 'highlightRow' : ''"
                                 class="contact-row row no-gutters align-items-center p-2 cursor-pointer">
                                <div class="col-6">
                                    <div class="row no-gutters align-items-center">
                                        <div class="pr-3 check-box"><mat-checkbox (click)="$event.preventDefault()" [checked]="selectedUser?.email === user.email" class="example-margin"></mat-checkbox></div>
                                        <div class="small-avatar" appBackground><span class="first-letter">{{user?.firstName}}</span>
                                        </div>
                                        <div class="px-2 user-name">
                                            <span>{{user?.firstName}} {{user?.lastName}}</span><br>
                                            <div class="user-email ellipsis"><span>{{user?.email}}</span></div>
                                        </div>

                                    </div>


                                </div>
                                <div class="col-3 ellipsis user-company"><span>{{user?.company}}</span></div>
                                <div class="col-3">
                                    <span (click)="editContact(user); $event.stopPropagation()"
                                          class="pr-2 pr-sm-3 py-2 cursor-pointer icon-color"><mat-icon
                                        class="trash-icon" mat-icon>edit</mat-icon></span>
                                    <span (click)="deleteContact(user); $event.stopPropagation()"
                                          class="pr-2 pr-sm-3 py-2 cursor-pointer icon-color"><mat-icon
                                        class="trash-icon" mat-icon>delete</mat-icon></span>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                </div>
            </div>
            <div class="col-12 col-lg-5  contact-view d-flex justify-content-center py-4">
                <app-contact-view [isView]="contactView" [user]="selectedUser"
                                  class="view-dimensions px-3"></app-contact-view>
            </div>
        </div>
    </div>

</div>
